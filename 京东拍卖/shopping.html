<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>京东-购物车</title>
	<link rel="icon" href="img/title_bg.png">
    <link rel="stylesheet" href="css/shopping.css" type="text/css">
    <link rel="stylesheet" href="css/clear.css" type="text/css">
</head>
<body>
    <div id="showOnTop">
		<div class="showOnTops clearFix">
			<div class="left fl">
				<ul class="clearFix">
					<li><a href="">京东首页</a></li>
					<li title="北京">
						<a href="">北京</a>
						<div class="mark">
							<div class="top">
								<ul class="clearFix">
									<li><a href="">北京</a></li>
									<li><a href="">上海</a></li>
									<li><a href="">天津</a></li>
									<li><a href="">重庆</a></li>
									<li><a href="">河北</a></li>
									<li><a href="">山西</a></li>
									<li><a href="">河南</a></li>
									<li><a href="">辽宁</a></li>
									<li><a href="">吉林</a></li>
									<li><a href="">黑龙江</a></li>
									<li><a href="">内蒙古</a></li>
									<li><a href="">江苏</a></li>
									<li><a href="">山东</a></li>
									<li><a href="">安徽</a></li>
									<li><a href="">浙江</a></li>
									<li><a href="">福建</a></li>
									<li><a href="">湖北</a></li>
									<li><a href="">湖南</a></li>
									<li><a href="">广东</a></li>
									<li><a href="">广西</a></li>
									<li><a href="">江西</a></li>
									<li><a href="">四川</a></li>
									<li><a href="">海南</a></li>
									<li><a href="">贵州</a></li>
									<li><a href="">云南</a></li>
									<li><a href="">西藏</a></li>
									<li><a href="">陕西</a></li>
									<li><a href="">甘肃</a></li>
									<li><a href="">青海</a></li>
									<li><a href="">宁夏</a></li>
									<li><a href="">新疆</a></li>
									<li><a href="">港澳</a></li>
									<li><a href="">台湾</a></li>
									<li><a href="">钓鱼岛</a></li>
									<li><a href="">海外</a></li>
								</ul>
							</div>
							<dl class="center">
								<dt>地区专享版本</dt>
								<dd class="clearFix">
									<a href="">中國港澳</a>
									<a href="">中國台湾</a>
									<a href="">京东全球</a>
								</dd>
							</dl>
							<dl class="bottom">
								<dt>Availble&nbsp;Sites</dt>
								<dd class="clearFix">
									<a href="">Global&nbsp;Site</a>
									<a href="">Gant&nbsp;Poccnn</a>
									<a href="">Sits&nbsp;Indonesia</a>
									<a href="">Sitio&nbsp;de&nbsp;Espana</a>
									<a href="">5las5ELMLa</a>
								</dd>
							</dl>
						</div>
					</li>
				</ul>
			</div>
			<div class="right fr">
				<ul class="clearFix">
					<li><a href="./login.html" id="hello">你好，请登录</a>&nbsp;<a href="" id="sign">免费注册</a></li>
					<li><a href="order.html">我的订单</a></li>
					<li class="icon">
						<a href="">我的京东</a>
						<div class="mark">
							<div class="top">
								<ul class="clearFix">
									<li><a href="">待处理订单</a></li>
									<li><a href="">我的问答</a></li>
									<li><a href="">返修退换货</a></li>
									<li><a href="">我的关注</a></li>
									<li><a href="">降价商品</a></li>
								</ul>
							</div>
							<div class="bottom">
								<ul class="clearFix">
									<li><a href="">我的京豆</a></li>
									<li><a href="">我的优惠劵</a></li>
									<li><a href="">京东白条</a></li>
									<li><a href="">我的理财</a></li>
								</ul>
							</div>
						</div>
					</li>
					<li><a href="">京东会员</a></li>
					<li class="icon">
						<a href="">企业采购</a>
						<div class="mark">
							<ul class="clearFix">
								<li><a href="">企业购</a></li>
								<li><a href="">商用场景馆</a></li>
								<li><a href="">工业品</a></li>
								<li><a href="">礼品卡</a></li>
								<li><a href="">丰科多商城</a></li>
							</ul>
						</div>
					</li>
					<li class="icon">
						<a href="">客户服务</a>
						<div class="mark">
							<div class="top">
								<dl>
									<dt>客户</dt>
									<dd class="clearFix">
										<a href="">帮助中心</a>
										<a href="">售后服务</a>
										<a href="">在线客服</a>
										<a href="">意见建议</a>
										<a href="">电话客服</a>
										<a href="">客服邮箱</a>
										<a href="">金融咨询</a>
										<a href="">全球售客服</a>
										<a href="">企业客服</a>
									</dd>
								</dl>
							</div>
							<div class="bottom">
								<dl>
									<dt>商户</dt>
									<dd class="clearFix">
										<a href="">合作招商</a>
										<a href="">成长中心</a>
										<a href="">商家后台</a>
										<a href="">京麦工作台</a>
										<a href="">商家帮助</a>
										<a href="">规则平台</a>
									</dd>
								</dl>
							</div>
						</div>
					</li>
					<li class="icon">
						<a href="">网站导航</a>
						<div class="mark clearFix">
							<div class="tszt fl">
								<dl>
									<dt>特色主题</dt>
									<dd class="clearFix">
										<a href="">新品首发</a>
										<a href="">京东金融</a>
										<a href="">全球售</a>
										<a href="">国际站</a>
										<a href="">京东会员</a>
										<a href="">台湾售</a>
										<a href="">俄语站</a>
										<a href="">装机大师</a>
										<a href="">港澳售</a>
										<a href="">优惠券</a>
										<a href="">秒杀</a>
										<a href="">闪购</a>
										<a href="">印尼站</a>
										<a href="">陪伴计划</a>
										<a href="">出海招商</a>
										<a href="">拍拍二手</a>
										<a href="">买什么</a>
									</dd>
								</dl>
							</div>
							<div class="hypd fl">
								<dl>
									<dt>行业频道</dt>
									<dd class="clearFix">
										<a href="">手机</a>
										<a href="">智能数码</a>
										<a href="">玩3C</a>
										<a href="">电脑办公</a>
										<a href="">家用电器</a>
										<a href="">京鱼座智能</a>
										<a href="">京东服饰</a>
										<a href="">京东生鲜</a>
										<a href="">家装城</a>
										<a href="">母婴</a>
										<a href="">食品</a>
										<a href="">农资频道</a>
										<a href="">整车</a>
										<a href="">图书</a>
										<a href="">劳动防护</a>
									</dd>
								</dl>
							</div>
							<div class="shfw fl">
								<dl>
									<dt>生活服务</dt>
									<dd>
										<a href="">京东众筹</a>
										<a href="">白条</a>
										<a href="">京东金融App</a>
										<a href="">京东小金库</a>
										<a href="">理财</a>
										<a href="">话费</a>
										<a href="">水电煤</a>
										<a href="">彩票</a>
										<a href="">旅行</a>
										<a href="">机票酒店</a>
										<a href="">电影票</a>
										<a href="">京东到家</a>
										<a href="">游戏</a>
										<a href="">游戏拍拍回收</a>
									</dd>
								</dl>
							</div>
							<div class="gdjx fl">
								<dl>
									<dt>更多精选</dt>
									<dd>
										<a href="">合作招商</a>
										<a href="">京东通信</a>
										<a href="">京东E卡</a>
										<a href="">企业采购</a>
										<a href="">服务市场</a>
										<a href="">办公生活馆</a>
										<a href="">校园加盟</a>
										<a href="">京东社区</a>
										<a href="">游戏社区</a>
										<a href="">	知识产权维权</a>
									</dd>
								</dl>
							</div>
						</div>
					</li>
					<li>
						<a href="">手机京东</a>
						<img src="img/sjjd_jt_bg.png" alt="" class="jt">
						<div class="mark">
							<div class="clearFix">
								<div class="fl">
									<img src="img/sjjd_ewm.png" alt="">
								</div>
								<div class="fr">
									<h3>手机京东</h3>
									<p>新人专享大礼包</p>
									<p class="clearFix">
										<a href=""><img src="img/iphone_bg.png" alt=""></a>
										<a href=""><img src="img/anord_bg.png" alt=""></a>
										<a href=""><img src="img/ipad_bg.png" alt=""></a>
									</p>
								</div>
							</div>
							<div class="clearFix">
								<div class="fl">
									<img src="img/jdwx_ewm.png" alt="">
								</div>
								<div class="fr">
									<h3>关注京东微信</h3>
									<p>微信扫一扫关注京东服务号订阅更多促销优惠福利 </p>
								</div>
							</div>
							<div class="clearFix">
								<div class="fl">
									<img src="img/khd_ewm.png" alt="">
								</div>
								<div class="fr">
									<h3>京东客户端</h3>
									<p>新人专享大礼包</p>
									<p class="clearFix">
										<a href=""><img src="img/iphone_bg.png" alt=""></a>
										<a href=""><img src="img/anord_bg.png" alt=""></a>
									</p>
								</div>
							</div>
						</div>
					</li>
				</ul>
			</div>
		</div>
	</div>
    <div id="logo" class="clearFix">
        <div class="fl logos">
            <img src="img/shopping/logo_bg.png" alt="">
        </div>
        <div class="fr search">
            <form action="#" mehtod="get">
                <input type="text" name="search"><input type="submit" value="搜索">
            </form>
        </div>
    </div>
    <div id="shoppingCar">
        <div class="all">
            <p>全部商品&nbsp;
                <span class="allShopping">0</span>
            </p>
        </div>
        <div class="content">
            <ol class="title clearFix">
                <li><input type="checkbox" class="allCheck"> 全选</li>
                <li>商品</li>
                <li>单价</li>
                <li>数量</li>
                <li>小计</li>
                <li>操作</li>
            </ol>
        </div>
        <div class="js clearFix">
			<div class="fl left">
				<ul class="clearFix">
					<li><input type="checkbox" class="allCheck"> 全选</li>
					<li class="pickOn"><a>删除选中的商品</a></li>
					<li style="float:right;">总价￥<span id="all">0.00</span></li>
					<li style="float:right;"><a href="">已选择<span>0</span>件商品</a></li>
				</ul>
			</div>
			<div class="fr right"><a href="">去结算</a></div>
        </div>
    </div>
    <div id="footer">
		<div class="footerTop">
			<div class="fw">
				<ol class="clearFix">
					<li>品类齐全，轻松购物</li>
					<li>多仓直发，急速配送</li>
					<li>正品行货，精致服务</li>
					<li>天天低价，畅选无忧</li>
				</ol>
			</div>
			<div class="bre"></div>
			<div class="zn clearFix">
				<dl>
					<dt>购物指南</dt>
					<dd><a href="">购物流程</a></dd>
					<dd><a href="">会员介绍</a></dd>
					<dd><a href="">生活旅行/团购</a></dd>
					<dd><a href="">常见问题</a></dd>
					<dd><a href="">大家电</a></dd>
					<dd><a href="">联系客服</a></dd>
				</dl>
				<dl>
					<dt>配送方式</dt>
					<dd><a href="">上门自提</a></dd>
					<dd><a href="">211限时达</a></dd>
					<dd><a href="">配送服务查询</a></dd>
					<dd><a href="">配送费收取标准</a></dd>
					<dd><a href="">海外配送</a></dd>
				</dl>
				<dl>
					<dt>支付方式</dt>
					<dd><a href="">货到付款</a></dd>
					<dd><a href="">在线支付</a></dd>
					<dd><a href="">分期付款</a></dd>
					<dd><a href="">邮局汇款</a></dd>
					<dd><a href="">公司转账</a></dd>
				</dl>
				<dl>
					<dt>售后服务</dt>
					<dd><a href="">售后政策</a></dd>
					<dd><a href="">价格保护</a></dd>
					<dd><a href="">退款说明</a></dd>
					<dd><a href="">返修/退换货</a></dd>
					<dd><a href="">取消订单</a></dd>
				</dl>
				<dl>
					<dt>特色服务</dt>
					<dd><a href="">夺宝岛</a></dd>
					<dd><a href="">DIY装机</a></dd>
					<dd><a href="">研报服务</a></dd>
					<dd><a href="">京东E卡</a></dd>
					<dd><a href="">京东通信</a></dd>
					<dd><a href="">京东JD+</a></dd>
				</dl>
			</div>
			<div class="bre"></div>
			<div class="gy">
				<ul class="clearFix">
					<li><a href="">关于我们</a></li>
					<li><a href="">联系我们</a></li>
					<li><a href="">联系客服</a></li>
					<li><a href="">合作招商</a></li>
					<li><a href="">商家帮助</a></li>
					<li><a href="">营销中心</a></li>
					<li><a href="">手机京东</a></li>
					<li><a href="">友情链接</a></li>
					<li><a href="">销售联盟</a></li>
					<li><a href="">京东社区</a></li>
					<li><a href="">风险监测</a></li>
					<li><a href="">隐私政策</a></li>
					<li><a href="">京东公益</a></li>
					<li><a href="">English Site</a></li>
					<li><a href="">Contace Us</a></li>
				</ul>
			</div>
			<div class="bq">
				<p><a href="">京公网安备1100002000088号│</a>京ICP证O70359号<a href="">│互联网药品信息服务资格证编号(京)-经营性-2014-0O08</a>│ 新出发京零字第大120007号</p>
				<p>互联网出版许可证编号新出网证京序150号│<a href="">出版物经昔许可证</a><a href="">│网络文化经昔许可证京网文[2014]2148-348号</a>│违法和不良信息举报电话:4006561155</p>
				<p>Copyright @ 2004 - 2021京东JD.com 版权所有│消费者维权热线:4006067733<a href=""> 经营证照</a></p>
				<p>京东旗下网站:<a href="">京东钱包 | </a><a href="">京东云</a></p>
				</ol>
			</div>
			<div class="yq">
				<ul class="clearFix">
					<p><a href="">经营性网站备案信息</a><a href="">可信网站信用评价</a><a href="">网络警察提醒您</a><a href="">诚信网站</a><a href="">网上有害信息举报专区</a><a href="">网络举报APP下载</a></p>
				</ul>
			</div>
		</div>
    </div>
    <script>
		var shopCar = [
			{
				goodsId:1234564,
				img:"sp_bg_06.png",
				name:"小米红米Redmi充电宝20000mAh大容量快充版移动电源Redmi充电宝",
				price:87,
				num:1,
				check:true
			},
			{
				goodsId:1234564,
				img:"sp_bg_03.png",
				name:"小米红米Redmi充电宝20000mAh大容量快充版移动电源Redmi充电宝",
				price:87,
				num:5,
				check:true
			},
			{
				goodsId:1234564,
				img:"sp_bg_06.png",
				name:"小米红米Redmi充电宝20000mAh大容量快充版移动电源Redmi充电宝",
				price:87,
				num:1,
				check:true
			},
			{
				goodsId:1234564,
				img:"sp_bg_03.png",
				name:"小米红米Redmi充电宝20000mAh大容量快充版移动电源Redmi充电宝",
				price:87,
				num:1,
				check:true
			},
			{
				goodsId:1234564,
				img:"sp_bg_06.png",
				name:"小米红米Redmi充电宝20000mAh大容量快充版移动电源Redmi充电宝",
				price:87,
				num:1,
				check:true
			}
		]

    	// content元素
        var oContent = document.querySelector(".content")
        // 获取所有的全选框
        var allCheck = document.querySelectorAll(".allCheck")
		allCheck[0].setAttribute("checked",true)
		allCheck[1].setAttribute("checked",true)
        //获取总价元素
        var allElement = document.querySelector("#all")
		// 获取全部商品
		var allRp = document.querySelector(".all p span")
		//获取删除选中商品
		var pickOn = document.querySelector(".pickOn a")
		//获取已选择商品
		var _select = document.querySelector(".js div:first-child ul li:last-child a span")
        //总价
        var zj = 0;

    	// 向页面追加商品内容
    	for(var m = 0;m < shopCar.length;m++){

    		var oUl = _createElement("ul")

    		var oLi = _createElement("li")
    		var oIpt = _createElement("input")
    		oIpt.setAttribute("type","checkbox")
			oIpt.setAttribute("checked",shopCar[m].check)
    		oLi.appendChild(oIpt)
    		oUl.appendChild(oLi)

    		var oLi = _createElement("li")
    		var oImg = _createElement("img")
    		oImg.setAttribute("src","img/shopping/images/" + shopCar[m].img)
    		var oP = _createElement("p")
    		oP.innerText = shopCar[m].name;
    		var oA = _createElement("a")
    		oA.innerText = "选服务";
    		var oPs = _createElement("p")
    		oPs.appendChild(oA)
    		oLi.appendChild(oImg)
    		oLi.appendChild(oP)
    		oLi.appendChild(oPs)
    		oUl.appendChild(oLi)

    		var oLi = _createElement("li")
    		oLi.innerText = "￥";
    		var oSpan = _createElement("span")
    		oSpan.innerText = shopCar[m].price.toFixed(2)
    		oLi.appendChild(oSpan)
    		oUl.appendChild(oLi)

    		var oLi = _createElement("li")
    		var oJian = _createElement("button")
    		oJian.innerText = "-";
    		oJian.addEventListener("click",jiaJian,false)
    		oLi.appendChild(oJian)
    		var price = _createElement("input")
    		price.value = shopCar[m].num;
			price.addEventListener("change",function(){
				if(isNaN(this.value) || this.value <= 0){
					this.value = 1;
				}
				var zjs = this.parentNode.nextElementSibling.lastElementChild;
				var dj = this.parentNode.previousElementSibling.firstElementChild;
				var cj = dj.innerText * this.value - zjs.innerText;

				zjs.innerText = (dj.innerText * this.value).toFixed(2)
				if(this.parentNode.parentNode.firstElementChild.firstElementChild.checked){
					zj += cj;
					allElement.innerText = zj.toFixed(2);
				}
			},false)
    		oLi.appendChild(price)
    		var oJia = _createElement("button")
    		oJia.innerText = "+";
    		oJia.addEventListener("click",jiaJian,false)
    		oLi.appendChild(oJia)
    		oUl.appendChild(oLi)

    		var oLi = _createElement("li")
    		oLi.innerText = "￥";
    		var oSpan = _createElement("span")
    		oSpan.innerText = (shopCar[m].price * price.value).toFixed(2)
    		oLi.appendChild(oSpan)
    		oUl.appendChild(oLi)
			
			zj += oSpan.innerText * 1;

    		var oLi = _createElement("li")
    		oLi.innerText = "删除";
			_select.innerText = shopCar.length
    		oLi.addEventListener("click",function(){
    			oContent.removeChild(this.parentNode)
				// 获取content内的所有商品复选框
				var aCheckbox = document.querySelectorAll(".content ul li:first-child input")
				if(!aCheckbox.length){
					allCheck[0].checked = false;
					allCheck[1].checked = false;
				}
    			allRp.innerText = allRp.innerText*1 - 1;
    			if(this.parentNode.firstElementChild.firstElementChild.checked){
    				_select.innerText = _select.innerText*1 - 1;
    			}
    			if(this.parentNode.firstElementChild.firstElementChild.checked){
    				zj -= this.previousElementSibling.firstElementChild.innerText*1;
    				allElement.innerText = zj.toFixed(2)
    			}
    		},false)

    		oUl.appendChild(oLi)

    		oContent.appendChild(oUl)
			
    	}
		allElement.innerText = zj.toFixed(2)

		// 获取content内的所有商品复选框
		var aCheckbox = document.querySelectorAll(".content ul li:first-child input")
		//循环遍历给所有商品复选框添加事件
		for(var l = 0;l < aCheckbox.length;l++){
			aCheckbox[l].addEventListener("click",function(){
				var num = 0;
				for(var j = 0;j < aCheckbox.length;j++){
					if(aCheckbox[j].checked){
						num++;
					}
				}
				if(num == aCheckbox.length){
        			allCheck[0].checked = true;
        			allCheck[1].checked = true;
				}else{
        			allCheck[0].checked = false;
        			allCheck[1].checked = false;
				}

				if(this.checked){
					zj += this.parentNode.parentNode.lastElementChild.previousElementSibling.lastElementChild.innerText*1;
        			_select.innerText = _select.innerText*1 + 1;
				}else{
					zj -= this.parentNode.parentNode.lastElementChild.previousElementSibling.lastElementChild.innerText*1;
        			_select.innerText = _select.innerText*1 - 1;
				}
				allElement.innerText = zj.toFixed(2)
			},false)
		}

		allRp.innerText = aCheckbox.length;

        // 给所有全选框个添加事件
        for(var j = 0;j < allCheck.length;j++){
        	allCheck[j].addEventListener("click",function(){
				// 获取content内的所有商品复选框
				var aCheckbox = document.querySelectorAll(".content ul li:first-child input")
	        	zj = 0;

      			if(aCheckbox.length){
      				if(this.checked){
	        			allCheck[0].checked = true;
	        			allCheck[1].checked = true;
		        		for(var k = 0;k < aCheckbox.length;k++){
		        			aCheckbox[k].checked = true;
		        			zj += aCheckbox[k].parentNode.parentNode.lastElementChild.previousSibling.lastElementChild.innerText*1;
		        		}

        				_select.innerText = aCheckbox.length;
	        		}else{
	        			allCheck[0].checked = false;
	        			allCheck[1].checked = false;
	        			for(var k = 0;k < aCheckbox.length;k++){
		        			aCheckbox[k].checked = false;
		        		}
		        		_select.innerText = 0;
	        		}
	        		allElement.innerText = zj.toFixed(2)
      			}
        	},false)
        }

        pickOn.addEventListener("click",function(){
			var oUl = document.querySelectorAll(".content ul")
        	for(var k = 0;k < oUl.length;k++){
        		if(oUl[k].firstElementChild.firstElementChild.checked){
        			oContent.removeChild(oUl[k])
					zj -= oUl[k].lastElementChild.previousElementSibling.firstElementChild.innerText*1;
					_select.innerText = _select.innerText*1 - 1;
					allRp.innerText = allRp.innerText*1 - 1;
        		}
        	}
			allCheck[0].checked = false;
			allCheck[1].checked = false;
			allElement.innerText = zj.toFixed(2)
        },false)


        function jiaJian(){
        	var xj = this.parentNode.nextElementSibling.lastElementChild;
        	var price = this.parentNode.previousElementSibling.lastElementChild;

        	if(this.innerText == "-"){
        		if(this.nextElementSibling.value > 1){
        			this.nextElementSibling.value--;
        			xj.innerText = (xj.innerText*1 - price.innerText*1).toFixed(2);
        		}

        		if(this.parentNode.parentNode.firstElementChild.firstElementChild.checked){
        			zj -= price.innerText*1
        			allElement.innerText = zj.toFixed(2)
        		}
        	}else{
        		if(this.previousElementSibling.value < 100){
        			this.previousElementSibling.value++;
        			xj.innerText = (xj.innerText*1 + price.innerText*1).toFixed(2);
        		}

        		if(this.parentNode.parentNode.firstElementChild.firstElementChild.checked){
        			zj += price.innerText*1
        			allElement.innerText = zj.toFixed(2)
        		}
        	}
        }

        function _createElement(_element){
        	return document.createElement(_element)
        }
    </script>
</body>
</html>